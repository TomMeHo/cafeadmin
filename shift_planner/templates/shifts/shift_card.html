{% load i18n %}
<div class="card mb-3 {% if shift.is_past == True %}text-secondary{% endif %}{% if shift.is_registered == True %}border-primary{% else %}{% endif %}" style="max-width: 18rem;">
    <div class="card-header">
            {% if cards_with_date == True %}<span class="small">{{ shift.date }}<br></span>{% endif %}
            <span>{{ shift.starts_at|time:"H:i" }}-{{ shift.ends_at|time:"H:i" }}</span>
    </div>
    <div class="card-body">
        <p>
            <h5 class="card-title">{{ shift.title }}</h5>
        </p>
        <p>
            {% if shift.is_registered == True  %} {% translate "You are registered." %}{% endif %}
            {% if shift.is_registered == False %} {% translate "Not registered." %} {% endif %}
        </p>
        <p>
            <table class="table table-borderless table-sm">
                <tbody>
                  <tr>
                    <td>{% translate "Required Employees" %}:</td>
                    <td>{{ shift.required_employees_min }}</td>
                  </tr>
                  <tr>
                    <td>{% translate "Registered Employees" %}:</td>
                    <td>{{ shift.registered_employees }}</td>
                    <!-- <td>{{ shift.required_employees_min }}</td> -->
                  </tr>
                </tbody>
              </table>
        </p>
        <p>
            {% if shift.required_employees_min > shift.registered_employees %}
                <div class="alert alert-danger" role="alert">
                    {% translate "Understaffed." %}
                </div>

            
            {% endif %}
        </p>
        <div class="container">
            {% if shift.is_past == False %}
                {% if shift.is_registered == False %}
                    <a class="btn btn-primary mb-3" role="button" href="/planner/shift/{{ shift.id }}/register">{% translate "Register" %}</a>
                {% endif %}
                {% if shift.is_registered == True and shift.unregister_possible == True %}
                    <a class="btn btn-primary mb-3" role="button" href="/planner/shift/{{ shift.id }}/unregister">{% translate "Unregister" %}</a>
                {% endif %}
            {% endif %}
            <a class="card-link"href="/planner/shift/{{ shift.id }}">{% translate "Detail" %}</a>
        </div>
    </div>
    <!-- <div class="card-footer">
        {% if shift.is_registered == True  %}You are registered. {% endif %}
        {% if shift.is_registered == False %}Not registered.     {% endif %}
    </div> -->
</div>